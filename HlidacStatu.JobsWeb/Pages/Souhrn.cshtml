@page
@using HlidacStatu.JobsWeb.Services
@using HlidacStatu.JobsWeb.Models
@model SouhrnModel

@{
    ViewData["Title"] = "Souhrnné statistiky";

    Boxplot graphModel = new Boxplot();
    TableViewModel tableModel = new TableViewModel();

    if (Model.Key.HasValue)
    {
        List<JobStatistics> statistics = JobService.GetStatistics(Model.Key.Value);
        graphModel.BasicData = statistics;

        tableModel.Statistics = statistics;
        tableModel.LinkHref = "/obor";
        tableModel.Key = Model.Key;
    }
    
}

<h2>Souhrnné statistiky</h2>

@if (Model.Key.HasValue)
{
    <partial name="Shared/_SouhrnTable" model="tableModel"/>
    <partial name="Shared/_BoxPlot" model="graphModel"/>
    
}

