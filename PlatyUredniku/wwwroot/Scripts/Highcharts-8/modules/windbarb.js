/*
 Highcharts JS v8.2.2 (2020-10-22)

 Wind barb series module

 (c) 2010-2019 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts"],function(f){a(f);a.Highcharts=f;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function f(a,n,k,f){a.hasOwnProperty(n)||(a[n]=f.apply(null,k))}a=a?a._modules:{};f(a,"Mixins/OnSeries.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,f){var k=f.defined,n=f.stableSort,t=a.seriesTypes;
return{getPlotBox:function(){return a.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){t.column.prototype.translate.apply(this);var a=this,h=a.options,g=a.chart,f=a.points,m=f.length-1,e,b=h.onSeries;b=b&&g.get(b);h=h.onKey||"y";var d=b&&b.options.step,c=b&&b.points,p=c&&c.length,w=g.inverted,u=a.xAxis,v=a.yAxis,q=0,r;if(b&&b.visible&&p){q=(b.pointXOffset||0)+(b.barW||0)/2;g=b.currentDataGrouping;var y=c[p-1].x+(g?g.totalRange:
0);n(f,function(b,c){return b.x-c.x});for(h="plot"+h[0].toUpperCase()+h.substr(1);p--&&f[m];){var l=c[p];g=f[m];g.y=l.y;if(l.x<=g.x&&"undefined"!==typeof l[h]){if(g.x<=y&&(g.plotY=l[h],l.x<g.x&&!d&&(r=c[p+1])&&"undefined"!==typeof r[h])){var x=(g.x-l.x)/(r.x-l.x);g.plotY+=x*(r[h]-l[h]);g.y+=x*(r.y-l.y)}m--;p++;if(0>m)break}}}f.forEach(function(b,c){b.plotX+=q;if("undefined"===typeof b.plotY||w)0<=b.plotX&&b.plotX<=u.len?w?(b.plotY=u.translate(b.x,0,1,0,1),b.plotX=k(b.y)?v.translate(b.y,0,0,0,1):0):
b.plotY=(u.opposite?0:a.yAxis.len)+u.offset:b.shapeArgs={};if((e=f[c-1])&&e.plotX===b.plotX){"undefined"===typeof e.stackIndex&&(e.stackIndex=0);var m=e.stackIndex+1}b.stackIndex=m});this.onSeries=b}}});f(a,"Series/WindbarbSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Series/Series.js"],a["Core/Globals.js"],a["Mixins/OnSeries.js"],a["Core/Utilities.js"]],function(a,f,k,q,t){function n(){k.approximations&&!k.approximations.windbarb&&(k.approximations.windbarb=function(a,e){var b=0,
d=0,c,m=a.length;for(c=0;c<m;c++)b+=a[c]*Math.cos(e[c]*k.deg2rad),d+=a[c]*Math.sin(e[c]*k.deg2rad);return[a.reduce(function(b,a){return b+a},0)/a.length,Math.atan2(d,b)/k.deg2rad]})}var h=a.animObject;a=k.noop;var g=t.isNumber,v=t.pick;n();f.seriesType("windbarb","column",{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},
vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0},{pointArrayMap:["value","direction"],parallelArrays:["x","value","direction"],beaufortName:"Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],trackerGroups:["markerGroup"],init:function(a,e){n();k.Series.prototype.init.call(this,a,e)},pointAttribs:function(a,e){var b=this.options;
a=a.color||this.color;var d=this.options.lineWidth;e&&(a=b.states[e].color||a,d=(b.states[e].lineWidth||d)+(b.states[e].lineWidthPlus||0));return{stroke:a,"stroke-width":d}},markerAttribs:function(){},getPlotBox:q.getPlotBox,windArrow:function(a){var e=1.943844*a.value,b=this.options.vectorLength/20,d=-10;if(a.isNull)return[];if(0===a.beaufortLevel)return this.chart.renderer.symbols.circle(-10*b,-10*b,20*b,20*b);a=[["M",0,7*b],["L",-1.5*b,7*b],["L",0,10*b],["L",1.5*b,7*b],["L",0,7*b],["L",0,-10*b]];
var c=(e-e%50)/50;if(0<c)for(;c--;)a.push(-10===d?["L",0,d*b]:["M",0,d*b],["L",5*b,d*b+2],["L",0,d*b+4]),e-=50,d+=7;c=(e-e%10)/10;if(0<c)for(;c--;)a.push(-10===d?["L",0,d*b]:["M",0,d*b],["L",7*b,d*b]),e-=10,d+=3;c=(e-e%5)/5;if(0<c)for(;c--;)a.push(-10===d?["L",0,d*b]:["M",0,d*b],["L",4*b,d*b]),e-=5,d+=3;return a},translate:function(){var a=this.beaufortFloor,e=this.beaufortName;q.translate.call(this);this.points.forEach(function(b){for(var d=0;d<a.length&&!(a[d]>b.value);d++);b.beaufortLevel=d-1;
b.beaufort=e[d-1]})},drawPoints:function(){var a=this.chart,e=this.yAxis,b=a.inverted,d=this.options.vectorLength/2;this.points.forEach(function(c){var f=c.plotX,g=c.plotY;!1===this.options.clip||a.isInsidePlot(f,0,!1)?(c.graphic||(c.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+v(c.colorIndex,c.series.colorIndex))),c.graphic.attr({d:this.windArrow(c),translateX:f+this.options.xOffset,translateY:g+this.options.yOffset,rotation:c.direction}),
this.chart.styledMode||c.graphic.attr(this.pointAttribs(c))):c.graphic&&(c.graphic=c.graphic.destroy());c.tooltipPos=[f+this.options.xOffset+(b&&!this.onSeries?d:0),g+this.options.yOffset-(b?0:d+e.pos-a.plotTop)]},this)},animate:function(a){a?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},h(this.options.animation))},invertGroups:a,getExtremes:function(){return{}}},{isValid:function(){return g(this.value)&&0<=this.value}});""});f(a,"masters/modules/windbarb.src.js",[],function(){})});
//# sourceMappingURL=windbarb.js.map